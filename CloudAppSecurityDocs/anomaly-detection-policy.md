---
title: Cloud App Security에서 변칙 검색 정책 만들기
description: 이 문서에서는 변칙 검색 정책에 대해 설명하고 변칙 검색 정책의 구성 요소에 대한 참조 정보를 제공합니다.
keywords: ''
author: rkarlin
ms.author: rkarlin
manager: mbaldwin
ms.date: 12/10/2018
ms.topic: conceptual
ms.prod: ''
ms.service: cloud-app-security
ms.technology: ''
ms.assetid: ab9bc377-d2f5-4f4c-a419-f1728a15d1c7
ms.reviewer: reutam
ms.suite: ems
ms.custom: seodec18
ms.openlocfilehash: 6c0e3ac17aa5bc8d3cb5d7b32d4556c3d5cd0a33
ms.sourcegitcommit: b86c3afd1093fbc825fec5ba4103e3a95f65758e
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/10/2018
ms.locfileid: "53176800"
---
# <a name="get-instantaneous-behavioral-analytics-and-anomaly-detection"></a>즉각적인 동작 분석 및 변칙 검색 이용

*적용 대상: Microsoft Cloud App Security*

Microsoft Cloud App Security의 변칙 검색 정책은 클라우드 환경에서 지능형 위협 탐지를 즉시 실행할 수 있도록 UEBA(사용자 및 엔터티 동작 분석) 및 ML(기계 학습)을 기본적으로 제공합니다. 이러한 기능은 자동으로 사용하도록 설정되므로, 새 변칙 검색 정책은 즉각적인 검색을 제공하고 네트워크에 연결된 사용자, 머신 및 디바이스에서 다양한 동작 변칙을 대상으로 하여 즉각적인 결과를 제공합니다.  또한 새 정책은 Cloud App Security 검색 엔진의 데이터를 더 많이 공개하여 조사 프로세스를 더 빨리 진행하고 지속적으로 발견되는 위협을 포함하도록 도와줍니다. 

변칙 검색 정책은 자동으로 사용하도록 설정되지만, Cloud App Security는 7일간의 초기 학습 기간에는 일부 변칙 검색 경고를 발생시키지 않을 수 있습니다. 그다음에는 각 세션을 지난 달 동안 검색된 활동, 사용자가 활성 상태인 경우, IP 주소, 디바이스 등과 이러한 활동의 위험 점수와 비교합니다.  이러한 검색은 환경을 프로파일링하고 조직 활동에서 학습된 기준에 대해 경고를 트리거하는 경험적 변칙 검색 엔진의 일부입니다. 또한 이러한 검색에서는 사용자 및 로그인 패턴을 프로파일링하여 가양성을 줄이도록 디자인된 기계 학습 알고리즘을 사용합니다.

변칙은 사용자 활동을 검사하여 검색합니다. 다음과 같이 위험 요소로 그룹화된 30개 이상의 다양한 위험 표시기를 확인하여 위험을 평가합니다. 
          
 -   위험한 IP 주소
 -   로그인 실패
 -   관리자 활동
 -   비활성 계정
 -   위치  
 -   이동 불가능
 -   디바이스 및 사용자 에이전트
 -   활동률

정책 결과에 따라 보안 경고가 트리거됩니다. Cloud App Security는 클라우드에 있는 모든 사용자 세션을 확인하여 조직의 기준이나 사용자의 일반 활동과 다른 활동이 발생하면 경고합니다. 


## <a name="anomaly-detection-policies"></a>변칙 검색 정책
**컨트롤**을 클릭한 다음, **정책**을 클릭하여 포털에서 변칙 검색 정책을 볼 수 있습니다. 정책 유형으로 **변칙 검색 정책**을 선택하세요.

 ![새 변칙 검색 정책](./media/new-anomaly-detection-policies.png)

다음과 같은 변칙 검색 정책을 사용할 수 있습니다.

**이동 불가능**
-  이 검색은 사용자가 첫 번째 위치에서 두 번째 위치로 이동할 때 걸리는 시간보다 짧은 시간 내에 지리적으로 먼 위치에서 발생하는 두 개의 사용자 활동(단일 또는 다중 세션)을 식별합니다. 이는 다른 사용자가 같은 자격 증명을 사용하고 있음을 나타냅니다. 이 검색은 조직의 다른 사용자가 정기적으로 사용하는 VPN 및 위치와 같이 불가능한 여행 조건에 부합하는 명백한 “가양성”을 무시하는 기계 학습 알고리즘을 사용합니다. 검색은 7일간의 초기 학습 기간에는 새로운 사용자의 활동 패턴을 학습합니다.


**자주 사용되지 않는 국가에서의 활동**
- 이 검색은 새롭고 자주 사용되지 않는 위치를 결정하기 위해 과거의 활동 위치를 고려합니다. 변칙 검색 엔진은 조직에서 사용자가 사용한 이전 위치에 대한 정보를 저장합니다. 조직의 모든 사용자가 최근에 방문하지 않았거나 전혀 방문하지 않은 위치에서 활동이 발생하면 경고가 트리거됩니다. 

**맬웨어 검색**
- 이 검색은 Microsoft 앱인지 타사 앱인지와 상관 없이 클라우드 저장소에서 악성 파일을 식별합니다. Microsoft Cloud App Security는 Microsoft의 위협 인텔리전스를 사용하여 특정 파일이 알려진 맬웨어 공격과 연결되며 잠재적으로 악의적인지를 인식합니다. 이 기본 제공 정책은 기본적으로 비활성화됩니다. 일부 파일을 검색하지만 추론을 사용하여 잠재적으로 위험한 파일을 검색합니다. 파일을 검색한 후에 **감염된 파일** 목록을 확인할 수 있습니다. 파일이 감염된 맬웨어의 해당 형식에 대한 정보를 제공하는 맬웨어 보고서를 열려면 파일 서랍에서 맬웨어 파일 이름을 클릭합니다.
    
**익명 IP 주소에서의 활동**
- 이 검색은 익명 프록시 IP 주소로 식별된 IP 주소에서 사용자가 활성화되었음을 나타냅니다. 이러한 프록시는 디바이스의 IP 주소를 숨기려는 사람들이 사용되며, 악의적으로 사용될 수도 있습니다. 이 검색은 조직의 사용자가 널리 사용하는 태그가 잘못된 IP 주소와 같은 “거짓 긍정”을 줄이는 기계 학습 알고리즘을 사용합니다.

**랜섬웨어 활동**
-  Cloud App Security는 정교한 랜섬웨어 공격으로부터 보다 포괄적인 보호를 보장하기 위해 변칙 검색으로 랜섬웨어 검색 기능을 확장했습니다. 보안 연구 전문 지식을 통해 랜섬웨어 활동을 반영하는 동작 패턴을 식별하는 Cloud App Security는 전체적이고 강력한 보호를 보장합니다. 예를 들어 Cloud App Security에서 비율이 높은 파일 업로드 또는 파일 삭제 활동을 식별하는 경우 이는 부정적인 암호화 프로세스를 나타낼 수 있습니다. 이 데이터는 연결된 API에서 받은 로그에 수집된 후 알려진 랜섬웨어 확장과 같은 학습된 동작 패턴 및 위협 인텔리전스와 결합됩니다. Cloud App Security에서 랜섬웨어를 검색하는 방법에 대한 자세한 내용은 [랜섬웨어로부터 조직 보호](use-case-ransomware.md)를 참조하세요.

**종료된 사용자가 수행한 활동**

- 이 검색을 통해 해고된 직원이 SaaS 앱에서 계속 작업을 수행하는 경우를 식별할 수 있습니다. 데이터는 내부자 위협의 가장 큰 위험이 불편한 관계로 퇴사한 직원을 통해 제공됨을 보여 주므로 해고된 직원의 계정에서 활동을 계속 감시해야 합니다. 경우에 따라 퇴사한 직원의 계정은 회사 앱에서 프로비전이 해제되지만 대부분의 경우 특정 회사 리소스에 대한 액세스 권한은 계속 유지됩니다. 이전 관리자가 수행할 수 있는 잠재적 손상이 본질적으로 더 크기 때문에 권한 있는 계정을 고려할 때 훨씬 더 중요합니다.
이 검색에서는 앱 전체에서 사용자 동작을 모니터링하는 Cloud App Security의 기능을 활용하여 사용자의 일반 활동, 계정이 종료되었다는 사실 및 다른 앱에서의 실제 활동을 식별할 수 있습니다. 예를 들어 Azure AD 계정은 종료되었지만 회사 AWS 인프라에 계속 액세스할 수 있는 직원은 대규모 손상을 일으킬 가능성이 있습니다.  

**의심스러운 IP 주소에서의 활동**
- 이 검색은 Microsoft Threat Intelligence에서 위험한 것으로 식별된 IP 주소에서 사용자가 활동했음을 나타냅니다. 이러한 IP 주소는 봇네트 C&C와 같은 악성 활동에 관여하며, 손상된 계정을 나타낼 수도 있습니다. 이 검색은 조직의 사용자가 널리 사용하는 태그가 잘못된 IP 주소와 같은 “거짓 긍정”을 줄이는 기계 학습 알고리즘을 사용합니다.


**의심스러운 받은 편지함 전달**

- 이 검색은 의심스러운 메일 전달 규칙(예: 사용자가 모든 메일의 복사본을 외부 주소로 전달하는 받은 편지함 규칙을 만든 경우)을 찾습니다. 
 
> [!NOTE]
> Cloud App Security는 사용자의 일반적인 동작을 기준으로 의심스러운 것으로 식별되는 각 전달 규칙에 대해서만 경고합니다. 

**의심스러운 받은 편지함 조작 규칙**
- 이 검색 기능은 사용자 환경을 프로파일링하여 메시지나 폴더를 삭제하거나 이동하는 의심스러운 규칙이 사용자의 받은 편지함에 설정된 경우 경고를 트리거합니다. 이는 사용자 계정이 손상되었으며, 메시지가 의도적으로 숨겨져 있으며, 조직에 스팸 또는 맬웨이를 배포하는 데 사서함이 사용되고 있음을 나타낼 수 있습니다.

**비정상적인 활동(사용자별)**<br>
이러한 검색은 다음을 수행하는 사용자를 식별합니다.

 - 비정상적인 여러 파일 다운로드 활동
 - 비정상적인 파일 공유 활동
 - 비정상적인 파일 삭제 활동
 - 비정상적인 가장된 활동
 - 비정상적인 관리 활동
 
이러한 정책은 학습된 기준과 관련하여 단일 세션 내에서 위반 시도를 나타낼 수 있는 활동을 찾습니다. 이러한 검색은 사용자 로그온 패턴을 프로파일링하고 가양성을 줄이는 기계 학습 알고리즘을 활용합니다. 이러한 검색은 환경을 프로파일링하고 조직 활동에서 학습된 기준에 대해 경고를 트리거하는 경험적 변칙 검색 엔진의 일부입니다.

**여러 번의 로그인 시도 실패**
- 이 검색은 학습된 기준과 관련하여 단일 세션에서 로그인 시도가 여러 번 실패한 사용자를 나타냅니다. 이는 위반 시도일 수 있습니다. 

**승인되지 않은 앱으로 데이터 반출**
- 이 정책은 사용자 또는 IP 주소가 조직에서 정보를 반출하려는 시도와 유사한 작업을 수행하도록 승인되지 않은 앱을 사용할 때 자동으로 경고하도록 활성화됩니다.

**복수 삭제 VM 작업**
- 이 정책은 환경을 프로파일링하고 사용자가 조직의 기준선과 관련하여 단일 세션에서 여러 VM을 삭제할 때 경고를 트리거합니다. 이는 보안 위반이 시도되었음을 나타낼 수 있습니다.


## 자동화된 거버넌스 사용<a name="adp-automated-gov"></a>

변칙 검색 정책에 의해 생성된 경고에 자동화된 수정 작업을 사용할 수 있습니다. 

1. **정책** 페이지에서 검색 정책의 이름을 클릭합니다.
2. **변칙 검색 정책 편집** 창이 열리면 **거버넌스** 아래에서 모든 앱 또는 연결된 각 앱에서 원하는 수정 작업을 설정합니다. 
3. **업데이트**를 클릭합니다.

 
## <a name="scope-anomaly-detection-policies"></a>변칙 검색 정책 범위 지정

정책에서 포함하고 제외할 사용자 및 그룹에만 정책이 적용되도록 각 변칙 검색 정책의 범위를 독립적으로 지정할 수 있습니다.
예를 들어, 자주 여행하는 특정 사용자를 무시하도록 자주 사용되지 않는 국가에서의 활동 검색을 설정할 수 있습니다. 

변칙 검색 정책의 범위를 지정하려면
1. **제어** > **정책**을 클릭하고 **유형** 필터를 **변칙 검색 정책**으로 설정합니다.
2. 범위를 지정할 정책을 클릭합니다.
3. **범위** 아래의 기본 설정 **모든 사용자 및 그룹** 드롭다운을 **특정 사용자 및 그룹**으로 변경합니다. 
4. 이 정책이 적용될 사용자 및 그룹을 지정하려면 **포함**을 선택합니다. 여기에서 선택하지 않은 모든 사용자나 그룹은 위협으로 간주되지 않고 경고를 생성하지 않습니다.
5. 이 정책이 적용되지 않을 사용자를 지정하려면 **제외**를 선택합니다. 여기에서 선택한 모든 사용자는 위협으로 간주되지 않고 경고를 생성하지 않으며, **포함**에서 선택한 그룹의 멤버인 경우에도 마찬가지입니다.

 ![변칙 검색 범위 지정](./media/anomaly-detection-scoping.png)
## <a name="triage-anomaly-detection-alerts"></a>변칙 검색 경고 심사

새 변칙 검색 정책으로 트리거된 다양한 경고를 신속하게 심사하여 먼저 주의를 기울여야 할 경고를 결정할 수 있습니다. 이렇게 하려면 전체적인 상황을 보고 정말 악의적인 일이 발생하고 있는지를 파악할 수 있도록 경고에 대한 컨텍스트가 필요합니다.  

1. **활동 로그**에서 활동을 열어 활동 서랍을 표시할 수 있습니다. **사용자**를 클릭하여 사용자 정보 탭을 표시합니다. 이 탭에는 경고, 활동, 이러한 활동이 연결된 위치 등 조사에서 중요한 정보가 포함됩니다. 

   ![변칙 검색 경고1](./media/anomaly-alert-user1.png)
   ![변칙 검색 경고1](./media/anomaly-alert-user2.png)
 
2. 이를 통해 사용자가 수행한 의심스러운 활동을 파악하고 계정이 손상되었는지를 확실하게 판단할 수 있습니다. 예를 들어 여러 번의 로그인 실패에 대한 경고는 정말 의심스러운 것일 수 있으며 잠재적인 무차별 암호 대입 공격(brute force attack)을 나타낼 수 있지만, 애플리케이션이 잘못 구성되어 경고가 무해한 참 긍정일 수도 있습니다. 그러나 추가적인 의심스러운 활동과 함께 여러 번의 로그인 실패 경고가 표시되면 계정이 손상되었을 확률이 높습니다. 아래 예에서는 **여러 번의 로그인 시도 실패** 경고와 그 뒤의 **TOR IP 주소에서의 활동** 및 **불가능한 이동 활동**을 볼 수 있습니다. 이 두 가지 활동은 모두 그 자체가 강력한 IOC(손상 표시기)입니다. 충분히 의심스러운 게 아니라면, 같은 사용자가 **대량 다운로드 활동**(흔히 데이터를 반출하는 공격자를 나타냄)을 수행했음을 볼 수 있습니다. 

   ![변칙 검색 경고1](./media/anomaly-alert-user3.png)


3. 맬웨어 감염된 파일의 경우 파일을 검색한 후에 **감염된 파일** 목록을 확인할 수 있습니다. 파일이 감염된 맬웨어의 해당 형식에 대한 정보를 제공하는 맬웨어 보고서를 열려면 파일 서랍에서 맬웨어 파일 이름을 클릭합니다. 


  

  
## <a name="next-steps"></a>다음 단계 
[클라우드 환경을 보호하는 일상적인 활동](daily-activities-to-protect-your-cloud-environment.md)   

[프리미어 고객은 프리미어 포털에서 직접 새 지원 요청을 만들 수도 있습니다.](https://premier.microsoft.com/)  
  
  
